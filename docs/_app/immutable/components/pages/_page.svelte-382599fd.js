import{S as Q,i as Z,s as $,k as E,q as B,l as D,m as z,r as O,h as m,n as c,b as R,G as I,B as q,o as De,a as H,c as N,I as ge,J as P,p as L,K as se,C as ye,D as je,E as ze,F as Le,f as V,t as W,L as Ie,w as G,x as J,y as X,u as ae,z as Y,M as le,N as Re,O as x,P as ee,Q as te,g as fe,d as ue,R as Ve,T as de,U as ce,V as Pe}from"../../chunks/index-9d90608e.js";function Ue(i){let e,t;return{c(){e=E("h1"),t=B("Image Crop and resize for the Web"),this.h()},l(n){e=D(n,"H1",{class:!0});var r=z(e);t=O(r,"Image Crop and resize for the Web"),r.forEach(m),this.h()},h(){c(e,"class","text-sm")},m(n,r){R(n,e,r),I(e,t)},p:q,i:q,o:q,d(n){n&&m(e)}}}class We extends Q{constructor(e){super(),Z(this,e,null,Ue,$,{})}}function me(i){let e,t,n,r,a,s,l=i[0]&&pe(i);return{c(){e=E("div"),t=E("img"),r=H(),l&&l.c(),this.h()},l(f){e=D(f,"DIV",{class:!0});var o=z(e);t=D(o,"IMG",{src:!0,id:!0,class:!0,alt:!0}),r=N(o),l&&l.l(o),o.forEach(m),this.h()},h(){ge(t.src,n=i[1])||c(t,"src",n),c(t,"id","main-image"),c(t,"class","object-contain w-fit max-h-[50vh]"),c(t,"alt",""),c(e,"class","w-fit h-fit justify-center relative")},m(f,o){R(f,e,o),I(e,t),I(e,r),l&&l.m(e,null),a||(s=P(t,"load",i[6]),a=!0)},p(f,o){o&2&&!ge(t.src,n=f[1])&&c(t,"src",n),f[0]?l?l.p(f,o):(l=pe(f),l.c(),l.m(e,null)):l&&(l.d(1),l=null)},d(f){f&&m(e),l&&l.d(),a=!1,s()}}}function pe(i){let e,t,n,r,a,s,l,f,o,_,k;return{c(){e=E("div"),t=H(),n=E("div"),r=H(),a=E("div"),s=H(),l=E("div"),f=H(),o=E("div"),this.h()},l(u){e=D(u,"DIV",{class:!0,style:!0,"data-whole":!0}),z(e).forEach(m),t=N(u),n=D(u,"DIV",{class:!0,style:!0,"data-north":!0,"data-west":!0}),z(n).forEach(m),r=N(u),a=D(u,"DIV",{class:!0,style:!0,"data-north":!0,"data-west":!0}),z(a).forEach(m),s=N(u),l=D(u,"DIV",{class:!0,style:!0,"data-north":!0,"data-west":!0}),z(l).forEach(m),f=N(u),o=D(u,"DIV",{class:!0,style:!0,"data-north":!0,"data-west":!0}),z(o).forEach(m),this.h()},h(){c(e,"class","absolute border-2 border-dashed border-slate-300 cursor-move"),L(e,"top",i[5]+"px"),L(e,"left",i[4]+"px"),L(e,"width",i[3]+"px"),L(e,"height",i[2]+"px"),c(e,"data-whole","true"),c(n,"class","absolute bg-sky-700 cursor-se-resize"),L(n,"top",i[5]-M+"px"),L(n,"left",i[4]-M+"px"),L(n,"width",C+"px"),L(n,"height",C+"px"),c(n,"data-north","true"),c(n,"data-west","true"),c(a,"class","absolute bg-sky-700 cursor-sw-resize"),L(a,"top",i[5]-M+"px"),L(a,"left",i[4]+i[3]-C+M+"px"),L(a,"width",C+"px"),L(a,"height",C+"px"),c(a,"data-north","true"),c(a,"data-west","false"),c(l,"class","absolute bg-sky-700 cursor-nw-resize"),L(l,"top",i[5]+i[2]-C+M+"px"),L(l,"left",i[4]+i[3]-C+M+"px"),L(l,"width",C+"px"),L(l,"height",C+"px"),c(l,"data-north","false"),c(l,"data-west","false"),c(o,"class","absolute bg-sky-700 cursor-ne-resize"),L(o,"top",i[5]+i[2]-C+M+"px"),L(o,"left",i[4]-M+"px"),L(o,"width",C+"px"),L(o,"height",C+"px"),c(o,"data-north","false"),c(o,"data-west","true")},m(u,h){R(u,e,h),R(u,t,h),R(u,n,h),R(u,r,h),R(u,a,h),R(u,s,h),R(u,l,h),R(u,f,h),R(u,o,h),_||(k=[P(e,"pointerdown",i[7]),P(e,"pointermove",i[8]),P(e,"pointerup",i[9]),P(n,"pointerdown",i[7]),P(n,"pointermove",i[8]),P(n,"pointerup",i[9]),P(a,"pointerdown",i[7]),P(a,"pointermove",i[8]),P(a,"pointerup",i[9]),P(l,"pointerdown",i[7]),P(l,"pointermove",i[8]),P(l,"pointerup",i[9]),P(o,"pointerdown",i[7]),P(o,"pointermove",i[8]),P(o,"pointerup",i[9])],_=!0)},p(u,h){h&32&&L(e,"top",u[5]+"px"),h&16&&L(e,"left",u[4]+"px"),h&8&&L(e,"width",u[3]+"px"),h&4&&L(e,"height",u[2]+"px"),h&32&&L(n,"top",u[5]-M+"px"),h&16&&L(n,"left",u[4]-M+"px"),h&32&&L(a,"top",u[5]-M+"px"),h&24&&L(a,"left",u[4]+u[3]-C+M+"px"),h&36&&L(l,"top",u[5]+u[2]-C+M+"px"),h&24&&L(l,"left",u[4]+u[3]-C+M+"px"),h&36&&L(o,"top",u[5]+u[2]-C+M+"px"),h&16&&L(o,"left",u[4]-M+"px")},d(u){u&&m(e),u&&m(t),u&&m(n),u&&m(r),u&&m(a),u&&m(s),u&&m(l),u&&m(f),u&&m(o),_=!1,se(k)}}}function Te(i){let e,t=i[1]&&me(i);return{c(){e=E("div"),t&&t.c(),this.h()},l(n){e=D(n,"DIV",{class:!0});var r=z(e);t&&t.l(r),r.forEach(m),this.h()},h(){c(e,"class","flex flex-grow flex-col justify-center items-center p-2")},m(n,r){R(n,e,r),t&&t.m(e,null)},p(n,[r]){n[1]?t?t.p(n,r):(t=me(n),t.c(),t.m(e,null)):t&&(t.d(1),t=null)},i:q,o:q,d(n){n&&m(e),t&&t.d()}}}const M=3,C=10;function He(i,e,t){let n,r,a,s,{imageFile:l}=e,{top:f}=e,{left:o}=e,{width:_}=e,{ratio:k}=e,u=1,h,v,b;De(()=>{if(FileReader){const w=new FileReader;w.onload=function(){typeof w.result=="string"&&t(1,b=w.result)},w.readAsDataURL(l)}else console.error("FileRreader is not supported in thios browser!")});let d;function y(w){const S=w.currentTarget;d=new ResizeObserver(K=>{U(K[0].target)}),d.observe(S)}function U(w){t(14,u=w.offsetWidth/w.naturalWidth),console.log(u),h=w.naturalWidth,v=w.naturalHeight;const S=v/h;if(k<=S){t(0,_=h);const K=_*k;t(11,o=0),t(10,f=(v-K)/2)}else t(0,_=v/k),t(11,o=(h-_)/2),t(10,f=0)}let p={active:!1,top:0,left:0,width:0,height:0,offset:{x:0,y:0}};function g(w){w.stopPropagation(),w.preventDefault();const S=w.currentTarget,K=w.clientX,ie=w.clientY;S.setPointerCapture(w.pointerId),p={...p,active:!0,top:f,left:o,width:_,height:_*k,offset:{x:K,y:ie}}}function F(w){const S=w.clientX,K=w.clientY;if(p.active){const ie=w.currentTarget,re=(S-p.offset.x)/u,j=(K-p.offset.y)/u,Fe=ie.dataset.north==="true",Ee=ie.dataset.west==="true";ie.dataset.whole==="true"?T(j,re):ne(j,re,Fe,Ee)}}function A(w){w.stopPropagation(),w.preventDefault(),p={...p,active:!1}}function T(w,S){t(10,f=p.top+w),t(11,o=p.left+S),f<0&&t(10,f=0),o<0&&t(11,o=0),o+_>h&&t(11,o=h-_),f+_*k>v&&t(10,f=v-_*k)}function ne(w,S,K,ie){let re=_*k;const j={top:f,left:o,width:_,height:re};w<S?(K?(j.top=p.top+w,j.height=p.width*k-w):(j.height=p.width*k+w,j.top=p.top),ie?(j.width=j.height/k,j.left=p.left+p.width-j.width):(j.width=j.height/k,j.left=p.left)):(ie?(j.left=p.left+S,j.width=p.width-S):(j.width=p.width+S,j.left=p.left),K?(j.height=j.width*k,j.top=p.top+p.height-j.height):j.top=p.top),j.height=j.width*k,j.top>=0&&j.top+j.height<=v&&o>=0&&j.left+j.width<=h&&(t(10,f=j.top),t(11,o=j.left),t(0,_=j.width),re=j.height)}return i.$$set=w=>{"imageFile"in w&&t(12,l=w.imageFile),"top"in w&&t(10,f=w.top),"left"in w&&t(11,o=w.left),"width"in w&&t(0,_=w.width),"ratio"in w&&t(13,k=w.ratio)},i.$$.update=()=>{if(i.$$.dirty&8192&&k){const w=document.getElementById("main-image");w&&w.src&&U(w)}i.$$.dirty&17408&&t(5,n=f*u),i.$$.dirty&18432&&t(4,r=o*u),i.$$.dirty&16385&&t(3,a=_*u),i.$$.dirty&24577&&t(2,s=_*k*u)},[_,b,s,a,r,n,y,g,F,A,f,o,l,k,u]}class Ne extends Q{constructor(e){super(),Z(this,e,He,Te,$,{imageFile:12,top:10,left:11,width:0,ratio:13})}}function Ae(i){let e,t,n,r;const a=i[1].default,s=ye(a,i,i[0],null);return{c(){e=E("button"),s&&s.c(),this.h()},l(l){e=D(l,"BUTTON",{type:!0,class:!0});var f=z(e);s&&s.l(f),f.forEach(m),this.h()},h(){c(e,"type","button"),c(e,"class","text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-3 py-1 dark:bg-blue-700 dark:hover:bg-blue-900 focus:outline-none dark:focus:ring-blue-800")},m(l,f){R(l,e,f),s&&s.m(e,null),t=!0,n||(r=P(e,"click",i[2]),n=!0)},p(l,[f]){s&&s.p&&(!t||f&1)&&je(s,a,l,l[0],t?Le(a,l[0],f,null):ze(l[0]),null)},i(l){t||(V(s,l),t=!0)},o(l){W(s,l),t=!1},d(l){l&&m(e),s&&s.d(l),n=!1,r()}}}function Se(i,e,t){let{$$slots:n={},$$scope:r}=e;function a(s){Ie.call(this,i,s)}return i.$$set=s=>{"$$scope"in s&&t(0,r=s.$$scope)},[r,n,a]}class he extends Q{constructor(e){super(),Z(this,e,Se,Ae,$,{})}}function Be(i){let e;return{c(){e=B("change")},l(t){e=O(t,"change")},m(t,n){R(t,e,n)},d(t){t&&m(e)}}}function Oe(i){let e,t,n,r,a,s,l;return s=new he({props:{$$slots:{default:[Be]},$$scope:{ctx:i}}}),s.$on("click",i[2]),{c(){e=E("div"),t=B(i[0]),n=B(":"),r=B(i[1]),a=H(),G(s.$$.fragment)},l(f){e=D(f,"DIV",{});var o=z(e);t=O(o,i[0]),n=O(o,":"),r=O(o,i[1]),a=N(o),J(s.$$.fragment,o),o.forEach(m)},m(f,o){R(f,e,o),I(e,t),I(e,n),I(e,r),I(e,a),X(s,e,null),l=!0},p(f,[o]){(!l||o&1)&&ae(t,f[0]),(!l||o&2)&&ae(r,f[1]);const _={};o&16&&(_.$$scope={dirty:o,ctx:f}),s.$set(_)},i(f){l||(V(s.$$.fragment,f),l=!0)},o(f){W(s.$$.fragment,f),l=!1},d(f){f&&m(e),Y(s)}}}function qe(i,e,t){let{width:n}=e,{height:r}=e;const a=[{width:16,height:9},{width:4,height:3},{width:2,height:1},{width:1,height:1}];function s(){const l=a.findIndex(o=>o.width===n&&o.height===r);let f=0;l<a.length-1&&(f=l+1),t(0,n=a[f].width),t(1,r=a[f].height)}return i.$$set=l=>{"width"in l&&t(0,n=l.width),"height"in l&&t(1,r=l.height)},[n,r,s]}class Me extends Q{constructor(e){super(),Z(this,e,qe,Oe,$,{width:0,height:1})}}const oe=["image/jpeg","image/png"];function Ce(i){return i==="image/jpeg"?"jpg":i==="image/png"?"png":""}function Ge(i,e){const t=window.URL.createObjectURL(i),n=document.createElement("a");n.style.display="none",n.href=t,n.download=e,document.body.appendChild(n),n.click(),window.URL.revokeObjectURL(t)}const Je=i=>new Promise((e,t)=>{const n=new Image;n.addEventListener("load",()=>e(n)),n.addEventListener("error",r=>t(r)),n.setAttribute("crossOrigin","anonymous"),n.src=i});function Xe(i){return i*Math.PI/180}async function Ye(i,e,t,n=0,r,a,s){const l=await Je(i),f=document.createElement("canvas"),o=f.getContext("2d");if(!o)return null;const _=Math.max(l.width,l.height),k=2*(_/2*Math.sqrt(2)),u=2*(_/2*Math.sqrt(2)),h=t/e.width;f.width=k,f.height=u,r==="image/jpeg"&&(o.fillStyle=s,o.fillRect(0,0,f.width,f.height)),o.translate(k/2,u/2),o.scale(h,h),o.rotate(Xe(n)),o.translate(-l.width/2,-l.height/2),o.drawImage(l,0,0),o.setTransform(1,0,0,1,0,0);const v=o.getImageData(k/2-l.width*h/2+e.left*h,u/2-l.height*h/2+e.top*h,e.width*h,e.height*h);return f.width=e.width*h,f.height=e.height*h,r==="image/jpeg"&&(o.fillStyle=s,o.fillRect(0,0,f.width,f.height)),o.putImageData(v,0,0),new Promise(b=>{f.toBlob(d=>{b(d)},r,a)})}const Ke=`
    importScripts('https://unpkg.com/mozjpeg-js', 'https://cdn.rawgit.com/psych0der/pngquantjs/master/demo/js/pngquant.min.js');
    onmessage = function(event) {
        const {args, type, data} = event.data, 
            optimize = type=='image/png' ? pngquant : mozjpeg.encode;
        const result = optimize(data, args, console.log);
        postMessage(result);
    };
`,_e=URL.createObjectURL(new Blob([Ke],{type:"application/javascript"}));async function Qe(i,e){if(!_e)return;const t=new Worker(_e),n=new Promise(a=>{t.onmessage=s=>{a([s.data.data]),t.terminate()}});return t.postMessage({data:new Uint8Array(i),type:e}),await n}function Ze(i){let e;return{c(){e=B("change")},l(t){e=O(t,"change")},m(t,n){R(t,e,n)},d(t){t&&m(e)}}}function $e(i){let e,t,n,r,a;return r=new he({props:{$$slots:{default:[Ze]},$$scope:{ctx:i}}}),r.$on("click",i[1]),{c(){e=E("div"),t=B(i[0]),n=H(),G(r.$$.fragment),this.h()},l(s){e=D(s,"DIV",{class:!0});var l=z(e);t=O(l,i[0]),n=N(l),J(r.$$.fragment,l),l.forEach(m),this.h()},h(){c(e,"class","flex flex-col items-center")},m(s,l){R(s,e,l),I(e,t),I(e,n),X(r,e,null),a=!0},p(s,[l]){(!a||l&1)&&ae(t,s[0]);const f={};l&4&&(f.$$scope={dirty:l,ctx:s}),r.$set(f)},i(s){a||(V(r.$$.fragment,s),a=!0)},o(s){W(r.$$.fragment,s),a=!1},d(s){s&&m(e),Y(r)}}}function xe(i,e,t){let{value:n="image/jpeg"}=e;function r(){const a=oe.findIndex(l=>l===n);let s=0;a<oe.length-1&&(s=a+1),t(0,n=oe[s])}return i.$$set=a=>{"value"in a&&t(0,n=a.value)},[n,r]}class et extends Q{constructor(e){super(),Z(this,e,xe,$e,$,{value:0})}}function tt(i){let e,t,n,r,a,s=i[0]*i[1]+"",l,f,o,_,k;return{c(){e=E("div"),t=E("label"),n=E("div"),r=B(i[0]),a=B(" / "),l=B(s),f=H(),o=E("input"),this.h()},l(u){e=D(u,"DIV",{class:!0});var h=z(e);t=D(h,"LABEL",{});var v=z(t);n=D(v,"DIV",{class:!0});var b=z(n);r=O(b,i[0]),a=O(b," / "),l=O(b,s),b.forEach(m),f=N(v),o=D(v,"INPUT",{type:!0,min:!0,max:!0,step:!0}),v.forEach(m),h.forEach(m),this.h()},h(){c(n,"class",""),c(o,"type","range"),c(o,"min","100"),c(o,"max","2000"),c(o,"step","10"),c(e,"class","flex flex-col")},m(u,h){R(u,e,h),I(e,t),I(t,n),I(n,r),I(n,a),I(n,l),I(t,f),I(t,o),le(o,i[0]),_||(k=[P(o,"change",i[2]),P(o,"input",i[2])],_=!0)},p(u,[h]){h&1&&ae(r,u[0]),h&3&&s!==(s=u[0]*u[1]+"")&&ae(l,s),h&1&&le(o,u[0])},i:q,o:q,d(u){u&&m(e),_=!1,se(k)}}}function it(i,e,t){let{ratio:n}=e,{width:r}=e;function a(){r=Re(this.value),t(0,r)}return i.$$set=s=>{"ratio"in s&&t(1,n=s.ratio),"width"in s&&t(0,r=s.width)},[r,n,a]}class nt extends Q{constructor(e){super(),Z(this,e,it,tt,$,{ratio:1,width:0})}}function at(i){let e,t,n,r,a,s,l;return{c(){e=E("div"),t=E("label"),n=B(i[1]),r=H(),a=E("input"),this.h()},l(f){e=D(f,"DIV",{class:!0});var o=z(e);t=D(o,"LABEL",{for:!0,class:!0});var _=z(t);n=O(_,i[1]),_.forEach(m),r=N(o),a=D(o,"INPUT",{type:!0,id:!0,class:!0}),o.forEach(m),this.h()},h(){c(t,"for",i[2]),c(t,"class","block text-sm font-medium text-gray-900 dark:text-white"),c(a,"type","text"),c(a,"id",i[2]),c(a,"class","block w-full p-1 text-gray-900 border border-gray-300 rounded-lg bg-gray-50 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"),c(e,"class","grow flex flex-col items-center gap-1")},m(f,o){R(f,e,o),I(e,t),I(t,n),I(e,r),I(e,a),le(a,i[0]),s||(l=[P(a,"input",i[4]),P(a,"click",i[3])],s=!0)},p(f,[o]){o&2&&ae(n,f[1]),o&1&&a.value!==f[0]&&le(a,f[0])},i:q,o:q,d(f){f&&m(e),s=!1,se(l)}}}function rt(i,e,t){let{value:n=""}=e,{label:r=""}=e;const a=crypto.randomUUID();function s(f){Ie.call(this,i,f)}function l(){n=this.value,t(0,n)}return i.$$set=f=>{"value"in f&&t(0,n=f.value),"label"in f&&t(1,r=f.label)},[n,r,a,s,l]}class lt extends Q{constructor(e){super(),Z(this,e,rt,at,$,{value:0,label:1})}}function st(i){let e;return{c(){e=B("Download")},l(t){e=O(t,"Download")},m(t,n){R(t,e,n)},d(t){t&&m(e)}}}function ot(i){let e,t,n,r,a,s,l,f,o,_,k,u,h;function v(g){i[9](g)}let b={};i[0].format!==void 0&&(b.value=i[0].format),t=new et({props:b}),x.push(()=>ee(t,"value",v,i[0].format));function d(g){i[10](g)}let y={ratio:i[1]};i[0].width!==void 0&&(y.width=i[0].width),a=new nt({props:y}),x.push(()=>ee(a,"width",d,i[0].width));function U(g){i[11](g)}let p={label:"Suffix"};return i[0].suffix!==void 0&&(p.value=i[0].suffix),o=new lt({props:p}),x.push(()=>ee(o,"value",U,i[0].suffix)),u=new he({props:{$$slots:{default:[st]},$$scope:{ctx:i}}}),u.$on("click",i[2]),{c(){e=E("div"),G(t.$$.fragment),r=H(),G(a.$$.fragment),l=H(),f=E("div"),G(o.$$.fragment),k=H(),G(u.$$.fragment),this.h()},l(g){e=D(g,"DIV",{class:!0});var F=z(e);J(t.$$.fragment,F),r=N(F),J(a.$$.fragment,F),l=N(F),f=D(F,"DIV",{class:!0});var A=z(f);J(o.$$.fragment,A),A.forEach(m),F.forEach(m),k=N(g),J(u.$$.fragment,g),this.h()},h(){c(f,"class","flex grow max-w-[10rem]"),c(e,"class","flex flex-row items-center gap-2")},m(g,F){R(g,e,F),X(t,e,null),I(e,r),X(a,e,null),I(e,l),I(e,f),X(o,f,null),R(g,k,F),X(u,g,F),h=!0},p(g,[F]){const A={};!n&&F&1&&(n=!0,A.value=g[0].format,te(()=>n=!1)),t.$set(A);const T={};F&2&&(T.ratio=g[1]),!s&&F&1&&(s=!0,T.width=g[0].width,te(()=>s=!1)),a.$set(T);const ne={};!_&&F&1&&(_=!0,ne.value=g[0].suffix,te(()=>_=!1)),o.$set(ne);const w={};F&4096&&(w.$$scope={dirty:F,ctx:g}),u.$set(w)},i(g){h||(V(t.$$.fragment,g),V(a.$$.fragment,g),V(o.$$.fragment,g),V(u.$$.fragment,g),h=!0)},o(g){W(t.$$.fragment,g),W(a.$$.fragment,g),W(o.$$.fragment,g),W(u.$$.fragment,g),h=!1},d(g){g&&m(e),Y(t),Y(a),Y(o),g&&m(k),Y(u,g)}}}function ft(i,e,t){let{imageFile:n}=e,{ratio:r}=e,{fileName:a}=e,{variant:s}=e,{top:l}=e,{left:f}=e,{width:o}=e,{height:_}=e;async function k(){const b=Ce(s.format),d=a+s.suffix+"."+b,y=URL.createObjectURL(n),U=await Ye(y,{width:o,height:_,top:l,left:f},s.width,0,s.format,85,"#fff");if(!U)return;const p=await U.arrayBuffer(),g=await Qe(p,s.format);if(!g)return;const F=new File(g,a,{type:s.format});Ge(F,d)}function u(b){i.$$.not_equal(s.format,b)&&(s.format=b,t(0,s))}function h(b){i.$$.not_equal(s.width,b)&&(s.width=b,t(0,s))}function v(b){i.$$.not_equal(s.suffix,b)&&(s.suffix=b,t(0,s))}return i.$$set=b=>{"imageFile"in b&&t(3,n=b.imageFile),"ratio"in b&&t(1,r=b.ratio),"fileName"in b&&t(4,a=b.fileName),"variant"in b&&t(0,s=b.variant),"top"in b&&t(5,l=b.top),"left"in b&&t(6,f=b.left),"width"in b&&t(7,o=b.width),"height"in b&&t(8,_=b.height)},[s,r,k,n,a,l,f,o,_,u,h,v]}class ut extends Q{constructor(e){super(),Z(this,e,ft,ot,$,{imageFile:3,ratio:1,fileName:4,variant:0,top:5,left:6,width:7,height:8})}}function we(i,e,t){const n=i.slice();return n[10]=e[t],n}function be(i){let e,t;return e=new ut({props:{imageFile:i[2],ratio:i[1]/i[0],variant:i[10],fileName:i[7],top:i[4],left:i[5],width:i[6],height:i[6]*i[1]/i[0]}}),{c(){G(e.$$.fragment)},l(n){J(e.$$.fragment,n)},m(n,r){X(e,n,r),t=!0},p(n,r){const a={};r&4&&(a.imageFile=n[2]),r&3&&(a.ratio=n[1]/n[0]),r&8&&(a.variant=n[10]),r&16&&(a.top=n[4]),r&32&&(a.left=n[5]),r&64&&(a.width=n[6]),r&67&&(a.height=n[6]*n[1]/n[0]),e.$set(a)},i(n){t||(V(e.$$.fragment,n),t=!0)},o(n){W(e.$$.fragment,n),t=!1},d(n){Y(e,n)}}}function ht(i){let e,t,n,r,a,s,l,f,o;function _(d){i[8](d)}function k(d){i[9](d)}let u={};i[0]!==void 0&&(u.width=i[0]),i[1]!==void 0&&(u.height=i[1]),a=new Me({props:u}),x.push(()=>ee(a,"width",_,i[0])),x.push(()=>ee(a,"height",k,i[1]));let h=i[3],v=[];for(let d=0;d<h.length;d+=1)v[d]=be(we(i,h,d));const b=d=>W(v[d],1,1,()=>{v[d]=null});return{c(){e=E("div"),t=E("div"),n=B(i[7]),r=H(),G(a.$$.fragment),f=H();for(let d=0;d<v.length;d+=1)v[d].c();this.h()},l(d){e=D(d,"DIV",{class:!0});var y=z(e);t=D(y,"DIV",{});var U=z(t);n=O(U,i[7]),U.forEach(m),r=N(y),J(a.$$.fragment,y),f=N(y);for(let p=0;p<v.length;p+=1)v[p].l(y);y.forEach(m),this.h()},h(){c(e,"class","flex flex-col gap-2")},m(d,y){R(d,e,y),I(e,t),I(t,n),I(e,r),X(a,e,null),I(e,f);for(let U=0;U<v.length;U+=1)v[U].m(e,null);o=!0},p(d,[y]){const U={};if(!s&&y&1&&(s=!0,U.width=d[0],te(()=>s=!1)),!l&&y&2&&(l=!0,U.height=d[1],te(()=>l=!1)),a.$set(U),y&255){h=d[3];let p;for(p=0;p<h.length;p+=1){const g=we(d,h,p);v[p]?(v[p].p(g,y),V(v[p],1)):(v[p]=be(g),v[p].c(),V(v[p],1),v[p].m(e,null))}for(fe(),p=h.length;p<v.length;p+=1)b(p);ue()}},i(d){if(!o){V(a.$$.fragment,d);for(let y=0;y<h.length;y+=1)V(v[y]);o=!0}},o(d){W(a.$$.fragment,d),v=v.filter(Boolean);for(let y=0;y<v.length;y+=1)W(v[y]);o=!1},d(d){d&&m(e),Y(a),Ve(v,d)}}}function gt(i){let e=i.name,t=e.lastIndexOf(".");return t!==-1&&(e=e.substring(0,t)),e}function dt(i,e,t){let{imageFile:n}=e,{ratioWidth:r}=e,{ratioHeight:a}=e,{variants:s}=e,{top:l}=e,{left:f}=e,{width:o}=e;const _=gt(n);function k(h){r=h,t(0,r)}function u(h){a=h,t(1,a)}return i.$$set=h=>{"imageFile"in h&&t(2,n=h.imageFile),"ratioWidth"in h&&t(0,r=h.ratioWidth),"ratioHeight"in h&&t(1,a=h.ratioHeight),"variants"in h&&t(3,s=h.variants),"top"in h&&t(4,l=h.top),"left"in h&&t(5,f=h.left),"width"in h&&t(6,o=h.width)},[r,a,n,s,l,f,o,_,k,u]}class ct extends Q{constructor(e){super(),Z(this,e,dt,ht,$,{imageFile:2,ratioWidth:0,ratioHeight:1,variants:3,top:4,left:5,width:6})}}function mt(i){let e,t,n,r,a,s,l,f,o,_,k;function u(g){i[7](g)}function h(g){i[8](g)}function v(g){i[9](g)}let b={imageFile:i[0],ratio:i[5]/i[4]};i[1]!==void 0&&(b.top=i[1]),i[2]!==void 0&&(b.left=i[2]),i[3]!==void 0&&(b.width=i[3]),t=new Ne({props:b}),x.push(()=>ee(t,"top",u,i[1])),x.push(()=>ee(t,"left",h,i[2])),x.push(()=>ee(t,"width",v,i[3]));function d(g){i[10](g)}function y(g){i[11](g)}function U(g){i[12](g)}let p={imageFile:i[0],top:i[1],left:i[2],width:i[3]};return i[6]!==void 0&&(p.variants=i[6]),i[4]!==void 0&&(p.ratioWidth=i[4]),i[5]!==void 0&&(p.ratioHeight=i[5]),l=new ct({props:p}),x.push(()=>ee(l,"variants",d,i[6])),x.push(()=>ee(l,"ratioWidth",y,i[4])),x.push(()=>ee(l,"ratioHeight",U,i[5])),{c(){e=E("div"),G(t.$$.fragment),s=H(),G(l.$$.fragment),this.h()},l(g){e=D(g,"DIV",{class:!0});var F=z(e);J(t.$$.fragment,F),s=N(F),J(l.$$.fragment,F),F.forEach(m),this.h()},h(){c(e,"class","flex flex-col grow gap-2")},m(g,F){R(g,e,F),X(t,e,null),I(e,s),X(l,e,null),k=!0},p(g,[F]){const A={};F&1&&(A.imageFile=g[0]),F&48&&(A.ratio=g[5]/g[4]),!n&&F&2&&(n=!0,A.top=g[1],te(()=>n=!1)),!r&&F&4&&(r=!0,A.left=g[2],te(()=>r=!1)),!a&&F&8&&(a=!0,A.width=g[3],te(()=>a=!1)),t.$set(A);const T={};F&1&&(T.imageFile=g[0]),F&2&&(T.top=g[1]),F&4&&(T.left=g[2]),F&8&&(T.width=g[3]),!f&&F&64&&(f=!0,T.variants=g[6],te(()=>f=!1)),!o&&F&16&&(o=!0,T.ratioWidth=g[4],te(()=>o=!1)),!_&&F&32&&(_=!0,T.ratioHeight=g[5],te(()=>_=!1)),l.$set(T)},i(g){k||(V(t.$$.fragment,g),V(l.$$.fragment,g),k=!0)},o(g){W(t.$$.fragment,g),W(l.$$.fragment,g),k=!1},d(g){g&&m(e),Y(t),Y(l)}}}function pt(i,e,t){let{imageFile:n}=e,r=0,a=0,s=0,l=16,f=9,o=[{width:1200,suffix:"-main",format:"image/jpeg"},{width:800,suffix:"-thumb",format:"image/jpeg"}];function _(d){r=d,t(1,r)}function k(d){a=d,t(2,a)}function u(d){s=d,t(3,s)}function h(d){o=d,t(6,o)}function v(d){l=d,t(4,l)}function b(d){f=d,t(5,f)}return i.$$set=d=>{"imageFile"in d&&t(0,n=d.imageFile)},[n,r,a,s,l,f,o,_,k,u,h,v,b]}class _t extends Q{constructor(e){super(),Z(this,e,pt,mt,$,{imageFile:0})}}function wt(i){let e,t,n,r,a,s,l,f,o,_,k,u,h,v,b,d,y,U;return{c(){e=E("div"),t=E("div"),n=E("label"),r=E("div"),a=de("svg"),s=de("path"),l=H(),f=E("p"),o=E("span"),_=B("Click to upload"),k=B(" or drag and drop"),u=H(),h=E("p"),v=B("JPG, PNG, ... and image"),b=H(),d=E("input"),this.h()},l(p){e=D(p,"DIV",{class:!0});var g=z(e);t=D(g,"DIV",{class:!0});var F=z(t);n=D(F,"LABEL",{for:!0,class:!0});var A=z(n);r=D(A,"DIV",{class:!0});var T=z(r);a=ce(T,"svg",{"aria-hidden":!0,class:!0,fill:!0,stroke:!0,viewBox:!0,xmlns:!0});var ne=z(a);s=ce(ne,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),z(s).forEach(m),ne.forEach(m),l=N(T),f=D(T,"P",{class:!0});var w=z(f);o=D(w,"SPAN",{class:!0});var S=z(o);_=O(S,"Click to upload"),S.forEach(m),k=O(w," or drag and drop"),w.forEach(m),u=N(T),h=D(T,"P",{class:!0});var K=z(h);v=O(K,"JPG, PNG, ... and image"),K.forEach(m),T.forEach(m),b=N(A),d=D(A,"INPUT",{id:!0,type:!0,class:!0,accept:!0}),A.forEach(m),F.forEach(m),g.forEach(m),this.h()},h(){c(s,"stroke-linecap","round"),c(s,"stroke-linejoin","round"),c(s,"stroke-width","2"),c(s,"d","M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"),c(a,"aria-hidden","true"),c(a,"class","w-10 h-10 mb-3 text-gray-400"),c(a,"fill","none"),c(a,"stroke","currentColor"),c(a,"viewBox","0 0 24 24"),c(a,"xmlns","http://www.w3.org/2000/svg"),c(o,"class","font-semibold"),c(f,"class","mb-2 text-sm text-gray-500 dark:text-gray-400"),c(h,"class","text-xs text-gray-500 dark:text-gray-400"),c(r,"class","flex flex-col items-center justify-center pt-5 pb-6"),c(d,"id",i[2]),c(d,"type","file"),c(d,"class","hidden"),c(d,"accept","image/*"),c(n,"for",i[2]),c(n,"class","flex flex-col items-center justify-center w-full h-64 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 dark:hover:bg-bray-800 dark:bg-gray-700 hover:bg-gray-100 dark:border-gray-600 dark:hover:border-gray-500 dark:hover:bg-gray-600"),c(t,"class","flex items-center justify-center w-full max-w-xl"),c(e,"class","flex items-center justify-center grow")},m(p,g){R(p,e,g),I(e,t),I(t,n),I(n,r),I(r,a),I(a,s),I(r,l),I(r,f),I(f,o),I(o,_),I(f,k),I(r,u),I(r,h),I(h,v),I(n,b),I(n,d),y||(U=[P(d,"change",i[1]),P(n,"drop",i[0]),P(n,"dragover",bt)],y=!0)},p:q,i:q,o:q,d(p){p&&m(e),y=!1,se(U)}}}function bt(i){i.preventDefault()}function vt(i){const e=Pe();function t(a){if(a.preventDefault(),console.log(a),!a.dataTransfer)return;console.log("1");let s=null;if(a.dataTransfer.items){const l=[...a.dataTransfer.items];for(let f of l)if(f.kind==="file"){const o=f.getAsFile();o&&(s=o);break}}else{const l=[...a.dataTransfer.files];l.length>0&&(s=l[0])}s&&e("selected",{file:s})}function n(a){if(a.currentTarget.files&&a.currentTarget.files.length){const[s]=a.currentTarget.files;e("selected",{file:s})}}let r=crypto.randomUUID();return[t,n,r]}class kt extends Q{constructor(e){super(),Z(this,e,vt,wt,$,{})}}function ve(i){let e,t;return e=new kt({}),e.$on("selected",i[1]),{c(){G(e.$$.fragment)},l(n){J(e.$$.fragment,n)},m(n,r){X(e,n,r),t=!0},p:q,i(n){t||(V(e.$$.fragment,n),t=!0)},o(n){W(e.$$.fragment,n),t=!1},d(n){Y(e,n)}}}function ke(i){let e,t;return e=new _t({props:{imageFile:i[0].imageFile}}),{c(){G(e.$$.fragment)},l(n){J(e.$$.fragment,n)},m(n,r){X(e,n,r),t=!0},p(n,r){const a={};r&1&&(a.imageFile=n[0].imageFile),e.$set(a)},i(n){t||(V(e.$$.fragment,n),t=!0)},o(n){W(e.$$.fragment,n),t=!1},d(n){Y(e,n)}}}function It(i){let e,t,n,r=!i[0].imageFile&&ve(i),a=i[0].imageFile&&ke(i);return{c(){e=E("div"),r&&r.c(),t=H(),a&&a.c(),this.h()},l(s){e=D(s,"DIV",{class:!0});var l=z(e);r&&r.l(l),t=N(l),a&&a.l(l),l.forEach(m),this.h()},h(){c(e,"class","flex flex-col flex-grow")},m(s,l){R(s,e,l),r&&r.m(e,null),I(e,t),a&&a.m(e,null),n=!0},p(s,[l]){s[0].imageFile?r&&(fe(),W(r,1,1,()=>{r=null}),ue()):r?(r.p(s,l),l&1&&V(r,1)):(r=ve(s),r.c(),V(r,1),r.m(e,t)),s[0].imageFile?a?(a.p(s,l),l&1&&V(a,1)):(a=ke(s),a.c(),V(a,1),a.m(e,null)):a&&(fe(),W(a,1,1,()=>{a=null}),ue())},i(s){n||(V(r),V(a),n=!0)},o(s){W(r),W(a),n=!1},d(s){s&&m(e),r&&r.d(),a&&a.d()}}}function Ft(i,e,t){let n={};function r(a){t(0,n.imageFile=a.detail.file,n)}return[n,r]}class Et extends Q{constructor(e){super(),Z(this,e,Ft,It,$,{})}}function Dt(i){let e,t;return{c(){e=E("h6"),t=B("© 2022 Invemo LLC, All Rights Reserved"),this.h()},l(n){e=D(n,"H6",{class:!0});var r=z(e);t=O(r,"© 2022 Invemo LLC, All Rights Reserved"),r.forEach(m),this.h()},h(){c(e,"class","text-sm")},m(n,r){R(n,e,r),I(e,t)},p:q,i:q,o:q,d(n){n&&m(e)}}}class yt extends Q{constructor(e){super(),Z(this,e,null,Dt,$,{})}}function jt(i){let e,t,n,r,a,s,l;return t=new We({}),r=new Et({}),s=new yt({}),{c(){e=E("div"),G(t.$$.fragment),n=H(),G(r.$$.fragment),a=H(),G(s.$$.fragment),this.h()},l(f){e=D(f,"DIV",{class:!0});var o=z(e);J(t.$$.fragment,o),n=N(o),J(r.$$.fragment,o),a=N(o),J(s.$$.fragment,o),o.forEach(m),this.h()},h(){c(e,"class","w-full min-h-screen bg-gray-50 dark:bg-gray-900 dark:text-gray-50 flex flex-col p-2")},m(f,o){R(f,e,o),X(t,e,null),I(e,n),X(r,e,null),I(e,a),X(s,e,null),l=!0},p:q,i(f){l||(V(t.$$.fragment,f),V(r.$$.fragment,f),V(s.$$.fragment,f),l=!0)},o(f){W(t.$$.fragment,f),W(r.$$.fragment,f),W(s.$$.fragment,f),l=!1},d(f){f&&m(e),Y(t),Y(r),Y(s)}}}class Rt extends Q{constructor(e){super(),Z(this,e,null,jt,$,{})}}export{Rt as default};
